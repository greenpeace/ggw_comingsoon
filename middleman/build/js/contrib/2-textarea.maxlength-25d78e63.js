!function(){var e=!1;window.JQClass=function(){},JQClass.classes={},JQClass.extend=function t(a){function s(){!e&&this._init&&this._init.apply(this,arguments)}var n=this.prototype;e=!0;var i=new this;e=!1;for(var o in a)i[o]="function"==typeof a[o]&&"function"==typeof n[o]?function(e,t){return function(){var a=this._super;this._super=function(t){return n[e].apply(this,t||[])};var s=t.apply(this,arguments);return this._super=a,s}}(o,a[o]):a[o];return s.prototype=i,s.prototype.constructor=s,s.extend=t,s}}(),function($){function camelCase(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})}JQClass.classes.JQPlugin=JQClass.extend({name:"plugin",defaultOptions:{},regionalOptions:{},_getters:[],_getMarker:function(){return"is-"+this.name},_init:function(){$.extend(this.defaultOptions,this.regionalOptions&&this.regionalOptions[""]||{});var e=camelCase(this.name);$[e]=this,$.fn[e]=function(t){var a=Array.prototype.slice.call(arguments,1);return $[e]._isNotChained(t,a)?$[e][t].apply($[e],[this[0]].concat(a)):this.each(function(){if("string"==typeof t){if("_"===t[0]||!$[e][t])throw"Unknown method: "+t;$[e][t].apply($[e],[this].concat(a))}else $[e]._attach(this,t)})}},setDefaults:function(e){$.extend(this.defaultOptions,e||{})},_isNotChained:function(e,t){return"option"===e&&(0===t.length||1===t.length&&"string"==typeof t[0])?!0:$.inArray(e,this._getters)>-1},_attach:function(e,t){if(e=$(e),!e.hasClass(this._getMarker())){e.addClass(this._getMarker()),t=$.extend({},this.defaultOptions,this._getMetadata(e),t||{});var a=$.extend({name:this.name,elem:e,options:t},this._instSettings(e,t));e.data(this.name,a),this._postAttach(e,a),this.option(e,t)}},_instSettings:function(){return{}},_postAttach:function(){},_getMetadata:function(elem){try{var data=elem.data(this.name.toLowerCase())||"";data=data.replace(/'/g,'"'),data=data.replace(/([a-zA-Z0-9]+):/g,function(e,t,a){var s=data.substring(0,a).match(/"/g);return s&&s.length%2!==0?t+":":'"'+t+'":'}),data=$.parseJSON("{"+data+"}");for(var name in data){var value=data[name];"string"==typeof value&&value.match(/^new Date\((.*)\)$/)&&(data[name]=eval(value))}return data}catch(e){return{}}},_getInst:function(e){return $(e).data(this.name)||{}},option:function(e,t,a){e=$(e);var s=e.data(this.name);if(!t||"string"==typeof t&&null==a){var n=(s||{}).options;return n&&t?n[t]:n}if(e.hasClass(this._getMarker())){var n=t||{};"string"==typeof t&&(n={},n[t]=a),this._optionsChanged(e,s,n),$.extend(s.options,n)}},_optionsChanged:function(){},destroy:function(e){e=$(e),e.hasClass(this._getMarker())&&(this._preDestroy(e,this._getInst(e)),e.removeData(this.name).removeClass(this._getMarker()))},_preDestroy:function(){}}),$.JQPlugin={createPlugin:function(e,t){"object"==typeof e&&(t=e,e="JQPlugin"),e=camelCase(e);var a=camelCase(t.name);JQClass.classes[a]=JQClass.classes[e].extend(t),new JQClass.classes[a]}}}(jQuery),function(e){var t="maxlength";e.JQPlugin.createPlugin({name:t,defaultOptions:{max:200,truncate:!0,showFeedback:!0,feedbackTarget:null,onFull:null},regionalOptions:{"":{feedbackText:"{r} characters remaining ({m} maximum)",overflowText:"{o} characters too many ({m} maximum)"}},_getters:["curLength"],_feedbackClass:t+"-feedback",_fullClass:t+"-full",_overflowClass:t+"-overflow",_disabledClass:t+"-disabled",_instSettings:function(){return{feedbackTarget:e([])}},_postAttach:function(t,a){t.on("keypress."+a.name,function(t){if(!a.options.truncate)return!0;var s=String.fromCharCode(void 0==t.charCode?t.keyCode:t.charCode);return t.ctrlKey||t.metaKey||"\x00"==s||e(this).val().length<a.options.max}).on("keyup."+a.name,function(){e.maxlength._checkLength(t)})},_optionsChanged:function(t,a,s){e.extend(a.options,s),a.feedbackTarget.length>0&&(a.hadFeedbackTarget?a.feedbackTarget.empty().val("").removeClass(this._feedbackClass+" "+this._fullClass+" "+this._overflowClass):a.feedbackTarget.remove(),a.feedbackTarget=e([])),a.options.showFeedback&&(a.hadFeedbackTarget=!!a.options.feedbackTarget,a.feedbackTarget=e.isFunction(a.options.feedbackTarget)?a.options.feedbackTarget.apply(t[0],[]):a.options.feedbackTarget?e(a.options.feedbackTarget):e("<span></span>").insertAfter(t),a.feedbackTarget.addClass(this._feedbackClass)),t.off("mouseover."+a.name+" focus."+a.name+"mouseout."+a.name+" blur."+a.name),"active"==a.options.showFeedback&&(t.on("mouseover."+a.name,function(){a.feedbackTarget.css("visibility","visible")}).on("mouseout."+a.name,function(){a.focussed||a.feedbackTarget.css("visibility","hidden")}).on("focus."+a.name,function(){a.focussed=!0,a.feedbackTarget.css("visibility","visible")}).on("blur."+a.name,function(){a.focussed=!1,a.feedbackTarget.css("visibility","hidden")}),a.feedbackTarget.css("visibility","hidden")),this._checkLength(t)},curLength:function(e){var t=this._getInst(e),a=e.val(),s=a.replace(/\r\n/g,"~~").replace(/\n/g,"~~").length;return{used:s,remaining:t.options.max-s}},_checkLength:function(t){var a=this._getInst(t),s=t.val(),n=s.replace(/\r\n/g,"~~").replace(/\n/g,"~~").length;if(t.toggleClass(this._fullClass,n>=a.options.max).toggleClass(this._overflowClass,n>a.options.max),n>a.options.max&&a.options.truncate){var i=t.val().split(/\r\n|\n/);s="";for(var o=0;s.length<a.options.max&&o<i.length;)s+=i[o].substring(0,a.options.max-s.length)+"\r\n",o++;t.val(s.substring(0,a.options.max)),t[0].scrollTop=t[0].scrollHeight,n=a.options.max}a.feedbackTarget.toggleClass(this._fullClass,n>=a.options.max).toggleClass(this._overflowClass,n>a.options.max);var r=(n>a.options.max?a.options.overflowText:a.options.feedbackText).replace(/\{c\}/,n).replace(/\{m\}/,a.options.max).replace(/\{r\}/,a.options.max-n).replace(/\{o\}/,n-a.options.max);try{a.feedbackTarget.text(r)}catch(l){}try{a.feedbackTarget.val(r)}catch(l){}n>=a.options.max&&e.isFunction(a.options.onFull)&&a.options.onFull.apply(t,[n>a.options.max])},enable:function(t){if(t=e(t),t.hasClass(this._getMarker())){var a=this._getInst(t);t.prop("disabled",!1).removeClass(a.name+"-disabled"),a.feedbackTarget.removeClass(a.name+"-disabled")}},disable:function(t){if(t=e(t),t.hasClass(this._getMarker())){var a=this._getInst(t);t.prop("disabled",!0).addClass(a.name+"-disabled"),a.feedbackTarget.addClass(a.name+"-disabled")}},_preDestroy:function(e,t){t.feedbackTarget.length>0&&(t.hadFeedbackTarget?t.feedbackTarget.empty().val("").css("visibility","visible").removeClass(this._feedbackClass+" "+this._fullClass+" "+this._overflowClass):t.feedbackTarget.remove()),e.removeClass(this._fullClass+" "+this._overflowClass).off("."+t.name)}})}(jQuery);