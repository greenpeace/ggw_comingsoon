jQuery&&function($){function show(event){var trigger=$(this),dropdown=$(trigger.attr("data-dropdown")),isOpen=trigger.hasClass("dropdown-open");trigger!==event.target&&$(event.target).hasClass("dropdown-ignore")||(event.preventDefault(),event.stopPropagation(),hide(),isOpen||trigger.hasClass("dropdown-disabled")||(trigger.addClass("dropdown-open"),dropdown.data("dropdown-trigger",trigger).show(),position(),dropdown.trigger("show",{dropdown:dropdown,trigger:trigger})))}function hide(event){var targetGroup=event?$(event.target).parents().addBack():null;if(targetGroup&&targetGroup.is(".dropdown")){if(!targetGroup.is(".dropdown-list"))return;if(!targetGroup.is("a"))return}$(document).find(".dropdown:visible").each(function(){var dropdown=$(this);dropdown.hide().removeData("dropdown-trigger").trigger("hide",{dropdown:dropdown})}),$(document).find(".dropdown-open").removeClass("dropdown-open")}function position(){var dropdown=$(".dropdown:visible").eq(0),trigger=dropdown.data("dropdown-trigger"),hOffset=trigger?parseInt(trigger.attr("data-horizontal-offset")||0,10):null,vOffset=trigger?parseInt(trigger.attr("data-vertical-offset")||0,10):null;0!==dropdown.length&&trigger&&(dropdown.hasClass("relative")&&$(window).width()<900||dropdown.css(dropdown.hasClass("dropdown-relative")?{left:dropdown.hasClass("dropdown-anchor-right")?trigger.position().left-(dropdown.outerWidth(!0)-trigger.outerWidth(!0))-parseInt(trigger.css("margin-right"),10)+hOffset:trigger.position().left+parseInt(trigger.css("margin-left"),10)+hOffset,top:trigger.position().top+trigger.outerHeight(!0)-parseInt(trigger.css("margin-top"),10)+vOffset}:{left:dropdown.hasClass("dropdown-anchor-right")?trigger.offset().left-(dropdown.outerWidth()-trigger.outerWidth())+hOffset:trigger.offset().left+hOffset,top:trigger.offset().top+trigger.outerHeight()+vOffset}))}$.extend($.fn,{dropdown:function(method,data){switch(method){case"hide":return hide(),$(this);case"attach":return console("test"),$(this).attr("data-dropdown",data);case"detach":return hide(),$(this).removeAttr("data-dropdown");case"disable":return $(this).addClass("dropdown-disabled");case"enable":return hide(),$(this).removeClass("dropdown-disabled")}}});var resizeTimer;$(window).resize(function(){clearTimeout(resizeTimer),resizeTimer=setTimeout(position,250)}),$(document).on("click.dropdown","[data-dropdown]",show),$(document).on("click.dropdown",hide),$(window).on("resize",position)}(jQuery);